var checkLine = require("checkLine");
var drawF = require("draw");
cc.Class({
    extends: cc.Component,

    properties: {
        draw:cc.Graphics,
    },


    start () {
        var name = cc.director.getScene().name;
        cc.log(name);
        var n = name.split("_")[1];
        var title = settings[n*1-1].title;
        cc.log(title);
        //获取当前场景的label
        var title_label = cc.find("Canvas/bg/title").getComponent(cc.Label);
        title_label.string = title;
    },
    buttnClick1:function(event, customEventData){
        var answer = [{"X":-368.455772113943,"Y":509.5052473763117},{"X":-359.82008995502247,"Y":509.5052473763117},{"X":-342.5487256371814,"Y":509.5052473763117},{"X":-339.67016491754123,"Y":509.5052473763117},{"X":-328.1559220389805,"Y":509.5052473763117},{"X":-319.52023988006,"Y":506.6266866566716},{"X":-308.0059970014992,"Y":506.6266866566716},{"X":-296.4917541229385,"Y":506.6266866566716},{"X":-290.73463268365816,"Y":506.6266866566716},{"X":-279.22038980509745,"Y":506.6266866566716},{"X":-270.58470764617687,"Y":506.6266866566716},{"X":-259.07046476761616,"Y":506.6266866566716},{"X":-250.43478260869563,"Y":506.6266866566716},{"X":-236.04197901049474,"Y":506.6266866566716},{"X":-227.4062968515742,"Y":506.6266866566716},{"X":-210.1349325337331,"Y":506.6266866566716},{"X":-204.37781109445274,"Y":506.6266866566716},{"X":-189.98500749625185,"Y":506.6266866566716},{"X":-181.34932533733132,"Y":506.6266866566716},{"X":-178.47076461769115,"Y":506.6266866566716},{"X":-166.95652173913044,"Y":506.6266866566716},{"X":-158.3208395802099,"Y":506.6266866566716},{"X":-146.80659670164914,"Y":506.6266866566716},{"X":-143.92803598200896,"Y":506.6266866566716},{"X":-129.53523238380808,"Y":506.6266866566716},{"X":-123.77811094452773,"Y":506.6266866566716},{"X":-118.02098950524737,"Y":506.6266866566716},{"X":-109.38530734632684,"Y":503.7481259370313},{"X":-92.11394302848572,"Y":503.7481259370313},{"X":-60.449775112443774,"Y":503.7481259370313},{"X":-51.81409295352324,"Y":503.7481259370313},{"X":-48.935532233883066,"Y":503.7481259370313},{"X":-37.4212893553223,"Y":503.7481259370313},{"X":-31.664167916041947,"Y":503.7481259370313},{"X":-17.271364317841062,"Y":503.7481259370313},{"X":-8.635682158920531,"Y":503.7481259370313},{"X":11.514242878560708,"Y":503.7481259370313},{"X":34.542728635682124,"Y":503.7481259370313},{"X":43.178410794602655,"Y":503.7481259370313},{"X":57.571214392803654,"Y":503.7481259370313},{"X":66.20689655172418,"Y":503.7481259370313},{"X":83.47826086956525,"Y":503.7481259370313},{"X":94.99250374812596,"Y":503.7481259370313},{"X":118.02098950524737,"Y":503.7481259370313},{"X":126.6566716641679,"Y":503.7481259370313},{"X":129.53523238380808,"Y":503.7481259370313},{"X":132.41379310344826,"Y":503.7481259370313},{"X":141.0494752623688,"Y":503.7481259370313},{"X":155.44227886056967,"Y":503.7481259370313},{"X":166.95652173913038,"Y":503.7481259370313},{"X":187.10644677661173,"Y":503.7481259370313},{"X":189.9850074962519,"Y":503.7481259370313},{"X":195.74212893553226,"Y":503.7481259370313},{"X":198.62068965517244,"Y":503.7481259370313},{"X":204.3778110944528,"Y":503.7481259370313},{"X":218.77061469265368,"Y":503.7481259370313},{"X":227.4062968515742,"Y":503.7481259370313},{"X":241.7991004497751,"Y":503.7481259370313},{"X":250.43478260869563,"Y":503.7481259370313},{"X":253.3133433283358,"Y":506.6266866566716},{"X":259.07046476761616,"Y":506.6266866566716},{"X":273.46326836581704,"Y":506.6266866566716},{"X":287.85607196401804,"Y":506.6266866566716},{"X":296.4917541229386,"Y":506.6266866566716},{"X":299.37031484257875,"Y":506.6266866566716},{"X":305.1274362818591,"Y":506.6266866566716},{"X":308.0059970014993,"Y":506.6266866566716},{"X":325.27736131934034,"Y":509.5052473763117},{"X":342.5487256371814,"Y":509.5052473763117},{"X":348.30584707646176,"Y":509.5052473763117},{"X":359.82008995502247,"Y":509.5052473763117},{"X":365.5772113943028,"Y":509.5052473763117},{"X":371.3343328335832,"Y":509.5052473763117},{"X":377.09145427286353,"Y":509.5052473763117}];
        var point = JSON.parse(cc.sys.localStorage.getItem('pointInfo'));
        checkLine.FilterPoints(point,answer,function(t){
            alert("结果"+t);
        });
    },
    buttnClick2:function(event, customEventData){
        this.draw.clear();
        drawF.clearPosition();
        localStorage.removeItem('pointInfo');
        cc.log("点"+cc.sys.localStorage.getItem('pointInfo'));
    },
    buttnClick3:function(event, customEventData){
        Alert.show("确定要跳到下一页吗？",function(t){
            cc.director.loadScene("question_2");
        });
    },
});
